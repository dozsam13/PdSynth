#N canvas 212 140 1366 685 12;
#X obj 207 564 *~;
#X obj 207 611 dac~;
#N canvas 732 129 1168 377 udp_comm 1;
#X obj 192 36 netreceive -u -b 3333;
#X obj 187 74 oscparse;
#X obj 186 130 list trim;
#X obj 93 179 route freq;
#X obj 176 184 route volume;
#X obj 283 184 route seq_start_stop;
#X obj 545 181 route seq_last_step;
#X obj 15 236 send freq_udp;
#X obj 143 251 send volume_udp;
#X obj 283 249 send seq_start_stop_udp;
#X obj 626 254 send seq_last_step_udp;
#X obj 440 181 route bpm;
#X obj 462 257 send bpm_udp;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 2 0 6 0;
#X connect 2 0 11 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 9 0;
#X connect 6 0 10 0;
#X connect 11 0 12 0;
#X restore 626 30 pd udp_comm;
#X obj 91 10 receive freq;
#X obj 254 570 receive volume;
#N canvas 370 156 1366 685 seq 1;
#X floatatom 244 53 5 0 0 0 - - - 0;
#X obj 201 84 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 205 171 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 243 84 tempo \$1 permin;
#X obj 204 214 f, f 4;
#X obj 205 446 mtof;
#X floatatom 197 495 5 0 0 0 - - - 0;
#X obj 206 544 send freq;
#X obj 573 476 array set \$0-pitches;
#X obj 206 302 hradio 16 1 0 16 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0;
#X obj 210 342 array get \$0-pitches;
#X floatatom 211 398 5 0 0 0 - - - 0;
#X msg 571 432 68 59 54 58 48 68 59 54 58 48 68 59 54 58 48 60;
#X obj 45 24 receive seq_start_stop;
#X obj 346 215 receive seq_last_step;
#X obj 203 263 % \$1;
#X msg 271 252 8;
#X obj 204 127 metro 0.25 120 permin;
#X obj 971 35 midirealtimein;
#X floatatom 971 59 5 0 0 0 - - - 0;
#X obj 966 178 select 0;
#X obj 971 350 bng 15 70 50 0 empty empty pulse 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 962 89 select 248 250 252;
#X obj 1006 209 bng 15 70 50 0 empty empty play 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 1041 233 bng 15 70 50 0 empty empty stop 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 1165 119 5 0 0 0 BAR - - 0;
#X text 775 10 select is used as a filter to isolate the needed MIDI info;
#X obj 972 119 counter 0 0 5;
#X obj 738 203 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 738 227 5 0 0 0 - - - 0;
#X obj 256 215 +;
#X obj 160 241 * \$1;
#X obj 881 67 print;
#X obj 395 433 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X floatatom 461 445 5 0 0 0 - - - 0;
#X obj 399 368 t b f;
#X obj 412 399 select 0;
#X obj 244 13 receive bpm;
#X connect 0 0 3 0;
#X connect 1 0 16 0;
#X connect 1 0 17 0;
#X connect 2 0 4 0;
#X connect 3 0 17 0;
#X connect 4 0 31 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 0 35 0;
#X connect 12 0 8 0;
#X connect 13 0 1 0;
#X connect 14 0 15 1;
#X connect 15 0 9 0;
#X connect 15 0 30 0;
#X connect 16 0 15 1;
#X connect 17 0 2 0;
#X connect 18 0 19 0;
#X connect 18 0 32 0;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 21 0 2 0;
#X connect 22 0 27 0;
#X connect 22 1 23 0;
#X connect 22 2 24 0;
#X connect 23 0 28 0;
#X connect 24 0 28 0;
#X connect 27 0 20 0;
#X connect 27 3 25 0;
#X connect 28 0 29 0;
#X connect 29 0 30 1;
#X connect 29 0 31 1;
#X connect 30 0 4 1;
#X connect 31 0 15 0;
#X connect 34 0 5 0;
#X connect 35 1 36 0;
#X connect 36 0 33 0;
#X connect 36 1 34 0;
#X connect 37 0 0 0;
#X restore 626 66 pd seq;
#X obj 96 143 line~;
#X msg 95 108 \$1 \$2;
#X obj 97 78 pack;
#N canvas 378 283 1366 685 perf 1;
#X obj 43 41 tgl 19 0 seq_start_stop seq_start_stop_udp Start_Stop 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 129 44 vsl 19 120 0 300 0 0 bpm bpm_udp BPM 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X floatatom 128 182 5 0 0 0 - - - 0;
#X obj 201 43 vsl 19 120 0 1 0 0 volume volume_udp Volume 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 777 45 vsl 19 120 0 1200 0 0 freq freq Pitch 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#N canvas 78 78 450 250 (subpatch) 0;
#X array \$0-pitches 16 float 3;
#A 0 68 66.5 0 58 48 0 59 54 58 48 68 59 54 58 48 60;
#X coords 0 0 16 100 200 140 1 0 0;
#X restore 827 41 graph;
#X obj 280 45 vsl 19 120 0 150 0 0 slew_rate slew_rate_udp Slew 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 253 283 vsl 19 120 0 200 0 0 amp_mod_freq amp_mod_freq_udp Frequency 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 327 283 vsl 19 120 0 2 0 0 amp_mod_amnt amp_mod_amount_udp Amount 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X text 248 236 Amp Mod:;
#X obj 400 277 vsl 19 120 0 1000 0 0 freq_mod_freq freq_mod_freq_udp Frequency 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 479 281 vsl 19 120 0 1 0 0 freq_mod_amnt freq_mod_amount_udp Amount 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 342 48 vsl 19 120 0 16 0 0 seq_last_step seq_last_step_udp Seq\ Last\ Step 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 15 261 vsl 19 120 0 3000 0 0 bp_cutoff bp_cutoff_udp Cutoff 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 97 262 vsl 19 120 0 6 0 0 bp_resonance bp_resonance_udp Resonance 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#N canvas 0 50 450 250 (subpatch) 0;
#X array waveformarray 200 float 5;
#A 0 -0.170661 -0.460396 -0.707096 -0.887699 -0.985323 -0.990843 -0.903744 -0.732167 -0.49215 -0.206129 0.0991586 0.395177 0.654256 0.852178 0.970441 0.997993 0.93226 0.779384 0.553656 0.276174 -0.0271233 -0.327885 -0.597997 -0.812211 -0.950502 -0.999945 -0.955917 -0.822534 -0.612265 -0.344763 -0.0450353 0.258902 0.538639 0.768025 0.92562 0.996692 0.974601 0.861409 0.667698 0.411573 0.116976 -0.188556 -0.476462 -0.719831 -0.895913 -0.988249 -0.988207 -0.895793 -0.719643 -0.476225 -0.188291 0.117244 0.411819 0.6679 0.861548 0.974662 0.99667 0.925517 0.767852 0.538412 0.258642 -0.0453048 -0.345017 -0.612478 -0.822688 -0.955997 -0.999943 -0.950419 -0.812054 -0.597781 -0.32763 -0.0268536 0.276434 0.553881 0.779555 0.932359 0.998011 0.970376 0.852036 0.654052 0.39493 0.0988903 -0.206394 -0.492385 -0.732351 -0.903861 -0.990881 -0.985279 -0.887575 -0.706904 -0.460156 -0.170395 0.135294 0.428335 0.681337 0.870651 0.978579 0.995035 0.918483 0.756077 0.522996 0.241027 -0.0634716 -0.362037 -0.62676 -0.832896 -0.961177 -0.99961 -0.944605 -0.801302 -0.583097 -0.310387 -0.00866292 0.29387 0.568934 0.790815 0.938775 0.998982 0.965812 0.842363 0.640175 0.378146 0.0807691 -0.224158 -0.508131 -0.744606 -0.911479 -0.993151 -0.981987 -0.879031 -0.693907 -0.44392 -0.152437 0.153295 0.444698 0.694532 0.879445 0.982151 0.993051 0.911129 0.744038 0.507399 0.223329 -0.0816168 -0.378934 -0.64083 -0.842824 -0.966034 -0.998944 -0.938477 -0.790285 -0.568221 -0.293041 0.00953067 0.311212 0.583803 0.801823 0.944892 0.999637 0.960944 0.832427 0.626099 0.361245 0.0626231 -0.241853 -0.523723 -0.756637 -0.918824 -0.995124 -0.978405 -0.870227 -0.680705 -0.427553 -0.134434 0.17125 0.460926 0.707517 0.887971 0.985422 0.990761 0.903491 0.731768 0.491643 0.205561 -0.0997361 -0.39571 -0.654694 -0.852479 -0.970579 -0.997953 -0.932042 -0.779009 -0.553157 -0.275599 0.027721 0.328449 0.598475 0.812558 0.950686 0.999949;
#X coords 0 2 199 -2 200 140 1 0 0;
#X restore 819 220 graph;
#X text 392 235 Freq Mod:;
#X obj 224 501 vsl 19 120 0 1 0 0 reverb_dry reverb_dry_udp Dry 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X text 216 455 Reverb:;
#X obj 261 497 vsl 19 120 0 1 0 0 reverb_wet reverb_wet_udp Wet 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 298 502 vsl 19 120 0 100 0 0 reverb_level reverb_level_udp Level 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 345 502 vsl 19 120 0 200 0 0 reverb_feedback reverb_feedback_udp Feedback 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 403 506 vsl 19 120 0 7000 0 0 reverb_crossover_freq reverb_crossover_freq_udp CrossFreq 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 468 506 vsl 19 120 0 100 0 0 reverb_h_f_d_p reverb_h_f_d_p_udp HFDP 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X text 15 436 Delay:;
#X obj 24 491 vsl 19 120 0 4000 0 0 delay_time delay_time_udp Time 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 80 487 vsl 19 120 0 0.3 0 0 delay_volume delay_volume_udp Volume 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 137 492 vsl 19 120 0 1.3 0 0 delay_feedback delay_feedback_udp Feedback 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X text 608 459 Envelope:;
#X obj 617 496 vsl 19 120 1 600 0 0 attack attack_udp Attack 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 677 495 vsl 19 120 1 1200 0 0 decay decay_udp Decay 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 735 498 vsl 19 120 0.01 1 0 0 sustain_level sustain_level_udp SustainLevel 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 829 495 vsl 19 120 1 1200 0 0 sustain_length sustain_length_udp SustainLength 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X obj 937 499 vsl 19 120 1 1200 0 0 release release_udp Release 0 -9 0 12 #00ff04 #000000 #000000 0 1;
#X text 132 9 Main;
#X text 9 217 Filter;
#X text 252 211 Mod;
#X text 15 407 Effects;
#X connect 1 0 2 0;
#X restore 647 121 pd perf;
#X obj 134 43 receive slew_rate;
#X obj 263 401 bp~, f 5;
#X obj 277 337 r bp_cutoff;
#X obj 320 373 r bp_resonance;
#X obj 6 202 tabwrite~ waveformarray;
#X obj 6 144 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 28 60 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 43 336 *~;
#N canvas 674 182 1366 685 amp_mod 0;
#X obj 294 203 osc~;
#X obj 295 235 +~ 1;
#X obj 298 265 /~ 2;
#X obj 310 300 *~;
#X obj 277 327 expr~ 1 - $v1;
#X obj 363 246 receive amp_mod_amount;
#X obj 297 171 receive amp_mod_freq;
#X obj 163 403 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 5 0 3 1;
#X connect 6 0 0 0;
#X restore 164 298 pd amp_mod;
#N canvas 555 218 450 300 freq_mod 0;
#X obj 184 113 osc~;
#X obj 179 147 *~;
#X obj 176 207 +~;
#X obj 266 115 *~;
#X obj 268 78 receive freq_mod_amount;
#X obj 100 76 receive freq_mod_freq;
#X obj 95 245 outlet~;
#X obj 133 28 inlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 7 0 2 1;
#X connect 7 0 3 1;
#X restore 181 199 pd freq_mod;
#X obj 324 503 rev2~, f 13;
#X obj 336 405 r reverb_level;
#X obj 362 434 r reverb_feedback;
#X obj 394 463 r reverb_crossover_freq;
#X obj 463 487 r reverb_h_f_d_p;
#X obj 276 526 *~;
#X obj 359 538 r reverb_wet;
#X obj 217 493 *~;
#X obj 84 433 r reverb_dry;
#X obj 5 571 delwrite~ audio-buffer 5000;
#N canvas 633 181 450 300 delay 0;
#X obj 87 99 delread~ audio-buffer 0;
#X obj 139 144 r delay_volume;
#X obj 93 183 *~;
#X obj 81 37 r delay_time;
#X obj 165 204 *~;
#X obj 192 176 r delay_feedback;
#X obj 83 232 dac~;
#X obj 168 239 send~ delay_feedback;
#X connect 0 0 2 0;
#X connect 0 0 4 0;
#X connect 1 0 2 1;
#X connect 2 0 6 0;
#X connect 2 0 6 1;
#X connect 3 0 0 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X restore 658 224 pd delay;
#X obj 18 479 receive~ delay_feedback;
#N canvas 214 152 863 480 main_wave 0;
#X obj 19 265 outlet~;
#X obj 101 19 inlet~;
#X obj 182 71 phasor~;
#X obj 191 126 expr~ $v1*2 -1;
#X obj 370 131 expr~ if($v1 > 0 \, 1 \, -1);
#X obj 374 65 osc~;
#X obj 97 120 osc~;
#X obj 215 254 hradio 19 1 0 3 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0;
#X obj 203 308 == 0;
#X obj 286 310 == 1;
#X obj 94 163 *~;
#X obj 203 171 *~;
#X obj 312 191 *~;
#X obj 336 311 == 2;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 11 0;
#X connect 4 0 12 0;
#X connect 5 0 4 0;
#X connect 6 0 10 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 7 0 13 0;
#X connect 8 0 10 1;
#X connect 9 0 11 1;
#X connect 10 0 0 0;
#X connect 11 0 0 0;
#X connect 12 0 0 0;
#X connect 13 0 12 1;
#X restore 141 257 pd main_wave;
#X obj 15 117 metro 50;
#N canvas 4 64 1366 685 adsr_envelope 0;
#X obj 84 128 inlet~;
#X obj 74 556 outlet~;
#X obj 112 34 receive freq;
#X obj 110 419 vline~;
#X obj 168 76 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 502 491 r decay;
#X obj 884 495 r release;
#X obj 458 542 v decay_value;
#X obj 917 542 v release_value;
#X obj 390 499 r attack;
#X obj 337 549 v attack_value;
#X obj 565 490 r sustain_level;
#X obj 563 552 v sustain_level_value;
#X obj 733 543 v sustain_length_value;
#X floatatom 314 521 5 0 0 0 - - - 0;
#X floatatom 453 468 5 0 0 0 - - - 0;
#X obj 192 133 expr attack_value;
#X obj 233 162 expr decay_value;
#X obj 280 194 expr sustain_level_value;
#X obj 202 296 pack f f f f f;
#X floatatom 559 446 5 0 0 0 - - - 0;
#X floatatom 725 460 5 0 0 0 - - - 0;
#X floatatom 883 462 5 0 0 0 - - - 0;
#X obj 723 496 r sustain_length;
#X msg 205 333 1 \$1 0 \, \$3 \$2 \$1 \, 0 \$5 \$4;
#X obj 308 267 expr release_value;
#X obj 311 220 expr sustain_length_value + attack_value + decay_value;
#X obj 76 449 *~;
#X connect 0 0 27 0;
#X connect 2 0 4 0;
#X connect 3 0 27 1;
#X connect 4 0 16 0;
#X connect 5 0 7 0;
#X connect 5 0 15 0;
#X connect 6 0 8 0;
#X connect 6 0 22 0;
#X connect 9 0 14 0;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 11 0 20 0;
#X connect 16 0 17 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 17 0 19 1;
#X connect 18 0 19 2;
#X connect 18 0 26 0;
#X connect 19 0 24 0;
#X connect 23 0 13 0;
#X connect 23 0 21 0;
#X connect 24 0 3 0;
#X connect 25 0 19 4;
#X connect 26 0 19 3;
#X connect 26 0 25 0;
#X connect 27 0 1 0;
#X restore 112 366 pd adsr_envelope;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 3 0 8 0;
#X connect 4 0 0 1;
#X connect 6 0 19 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 10 0 8 1;
#X connect 11 0 20 0;
#X connect 11 0 27 1;
#X connect 12 0 11 1;
#X connect 13 0 11 2;
#X connect 15 0 14 0;
#X connect 16 0 33 0;
#X connect 17 0 14 0;
#X connect 17 0 34 0;
#X connect 18 0 17 1;
#X connect 19 0 32 0;
#X connect 20 0 25 0;
#X connect 21 0 20 1;
#X connect 22 0 20 2;
#X connect 23 0 20 3;
#X connect 24 0 20 4;
#X connect 25 0 0 0;
#X connect 25 0 29 0;
#X connect 26 0 25 1;
#X connect 27 0 0 0;
#X connect 27 0 29 0;
#X connect 28 0 27 0;
#X connect 31 0 29 0;
#X connect 32 0 17 0;
#X connect 33 0 15 0;
#X connect 34 0 11 0;
